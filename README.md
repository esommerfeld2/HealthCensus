
<!-- README.md is generated from README.Rmd. Please edit that file -->

# HealthCensus

<!-- badges: start -->
<!-- badges: end -->

Our package will be built around data from Harvard Forest that measures
the health of trees above 10 cm in diameter across a period of 4 years
(2021-2024). From this data, we will create statistical and mathematical
functions that can assess the diversity and health of the trees within
the sample, with the goal of being able to generalize and apply these
assessments to other forests and/or samples of trees. Our package
functions will ideally be able to work in concert to produce an overall
evaluation of the health of a given tree, as well as the health of the
entire population of trees in the dataset. The assessments generated by
the package functionality could be useful for ecologists performing
health surveys on a particular tree or population of trees.

The goal of this package is to provide mathematical functions and real
data to allow for users to assess individual and population-wide tree
health. This package could hypothetically be used to track health status
of individual trees over the course of time. It could also be used to
assess biodiversity across trees of different species to understand how
different tree species have different ecological advantages over others.
Another analysis could look at averages across the entire dataset over
the years to understand how tree health changes over time, and to take a
deeper look at an arboreal lifespan. Some potential tasks could include
health assessments and biodiversity metrics, which is particularly
useful since the package utilizes real-world data over a span of recent
years as a basis for our functions (data in R package).

Here is a brief overview of our package functions and their primary
usages:

1.  field_means(): Takes the mean of a numeric variable, such as
    ‘percentage_of_crown_living’ or ‘dbh’, grouped by a categorical
    variable such as ‘species’, ‘status’, or ‘crown_position’.

2.  comb_frame(): Combines the data frames from the four different years
    into one large dataset, cleans this new dataset, and creates a new
    column with the variable name ‘year’ which groups the data by year.

3.  sum_trees(): Calculates the total number of trees for each *level*
    of a given categorical variable.

4.  summary_health_year(): Prints summary statistics for indices of tree
    health (e.g. ‘percentage_of_crown_intact’,
    ‘percentage_of_crown_living’) either across all four years, or for
    one specific year. Creates a data set for these summary statistics.

5.  summary_health_species(): Enables species-specific analysis by
    tracking health indices across all 4 years and creating summary
    statistics grouped by user input of a specific species.

6.  ind_tree_id(): Tracks health indices of one individual tree over the
    course of the 4 years based on user input of the specific tree ID
    (‘stem_tag’).

7.  logistic_reg_health(): Conducts logistic regression based on
    ‘status’ variable which indicates whether tree is alive or dead. Can
    use various variables from the dataset based on user input to
    determine main factors for survival.

8.  future_tree(): Predicts tree survival in future years based on
    probabilities of survival/measurements of tree health in previous
    years.

9.  graph_trees(): Generates visualizations (graphs, barplots,
    scatterplots, etc) that plot indices of tree health.

10. biodiv_trees(): Tracks indices of tree health as a function of the
    quadrat a given tree is in to measure the impact of tree
    biodiversity on mortality.

## Installation

You can install the development version of HealthCensus from
[GitHub](https://github.com/) with:

``` r
# install.packages("pak")
pak::pak("esommerfeld2/HealthCensus")
```

## Example

This is a basic example which shows you how to solve a common problem:

``` r
library(HealthCensus)
## basic example code
summary_health(data21, "crown_position") 
#> Joining with `by = join_by(statistic_names)`
#> Joining with `by = join_by(statistic_names)`
#> Joining with `by = join_by(statistic_names)`
#> Joining with `by = join_by(statistic_names)`
#> Joining with `by = join_by(statistic_names)`
#> Joining with `by = join_by(statistic_names)`
#>        statistic_names result_for_crown_position_3 result_for_crown_position_1
#> 1              A_count                   6261.0000                  1591.00000
#> 2             AU_count                   2109.0000                  4154.00000
#> 3             DC_count                      2.0000                  1184.00000
#> 4             DN_count                          NA                   200.00000
#> 5             DS_count                    409.0000                  4001.00000
#> 6      NA_status_count                   2007.0000                  2007.00000
#> 7    mean_crown_living                     90.1597                    45.16302
#> 8  median_crown_living                    100.0000                    45.00000
#> 9    mean_crown_intact                     95.6929                    65.12814
#> 10 median_crown_intact                    100.0000                    90.00000
#>    result_for_crown_position_2 result_for_crown_position_4
#> 1                   2436.00000                  2225.00000
#> 2                   2215.00000                   494.00000
#> 3                      6.00000                          NA
#> 4                      1.00000                          NA
#> 5                    854.00000                   332.00000
#> 6                   2007.00000                  2007.00000
#> 7                     74.16639                    82.13143
#> 8                     93.00000                    96.00000
#> 9                     87.94732                    95.34448
#> 10                   100.00000                   100.00000
#>    result_for_crown_position_5 result_for_crown_position_NA
#> 1                    265.00000                           NA
#> 2                     29.00000                           NA
#> 3                           NA                           NA
#> 4                           NA                           NA
#> 5                     33.00000                           NA
#> 6                   2007.00000                        30808
#> 7                     83.88991                          NaN
#> 8                     95.00000                           NA
#> 9                     96.74618                          NaN
#> 10                   100.00000                           NA
```

``` r
# gives you a summary of the health of trees at different crown positions 
```
