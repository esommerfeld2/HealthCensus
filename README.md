
<!-- README.md is generated from README.Rmd. Please edit that file -->

# HealthCensus

<!-- badges: start -->

<!-- badges: end -->

Our package will be built around data from Harvard Forest that measures
the health of trees above 10 cm in diameter across a period of 4 years
(2021-2024). From this data, we will create statistical and mathematical
functions that can assess the diversity and health of the trees within
the sample, with the goal of being able to generalize and apply these
assessments to other forests and/or samples of trees. Our package
functions will ideally be able to work in concert to produce an overall
evaluation of the health of a given tree, as well as the health of the
entire population of trees in the dataset. The assessments generated by
the package functionality could be useful for ecologists performing
health surveys on a particular tree or population of trees.

The goal of this package is to provide mathematical functions and real
data to allow for users to assess individual and population-wide tree
health. This package could hypothetically be used to track health status
of individual trees over the course of time. It could also be used to
assess biodiversity across trees of different species to understand how
different tree species have different ecological advantages over others.
Another analysis could look at averages across the entire dataset over
the years to understand how tree health changes over time, and to take a
deeper look at an arboreal lifespan. Some potential tasks could include
health assessments and biodiversity metrics, which is particularly
useful since the package utilizes real-world data over a span of recent
years as a basis for our functions (data in R package).

Here is a brief overview of our package functions and their primary
usages:

1.  field_means(): Takes the mean of a numeric variable, such as
    ‘percentage_of_crown_living’ or ‘dbh’, grouped by a categorical
    variable such as ‘species’, ‘status’, or ‘crown_position’.

2.  comb_frame(): Combines the data frames from the four different years
    into one large dataset, cleans this new dataset, and creates a new
    column with the variable name ‘year’ which groups the data by year.

3.  sum_trees(): Calculates the total number of trees for each *level*
    of a given categorical variable.

4.  summary_health_year(): Prints summary statistics for indices of tree
    health (e.g. ‘percentage_of_crown_intact’,
    ‘percentage_of_crown_living’) either across all four years, or for
    one specific year. Creates a data set for these summary statistics.

5.  summary_health_species(): Enables species-specific analysis by
    tracking health indices across all 4 years and creating summary
    statistics grouped by user input of a specific species.

6.  ind_tree_id(): Tracks health indices of one individual tree over the
    course of the 4 years based on user input of the specific tree ID
    (‘stem_tag’).

7.  quad_species(): Takes a species and finds a quadrat with the most of
    that species or least. Can be used to determine where to set up your
    experiment if it depends on tree species.

8.  future_tree(): Predicts tree survival in future years based on
    probabilities of survival/measurements of tree health in previous
    years.

9.  graph_trees(): Generates visualizations (graphs, barplots,
    scatterplots, etc) that plot indices of tree health.

10. biodiv_trees(): Tracks indices of tree health as a function of the
    quadrat a given tree is in to measure the impact of tree
    biodiversity on mortality.

## Installation

You can install the development version of HealthCensus from
[GitHub](https://github.com/esommerfeld2/HealthCensus) with:

``` r
# install.packages("pak")
pak::pak("esommerfeld2/HealthCensus")
```

## Example

This is a basic example where we demonstrate the ability of the function
summary_health:

``` r
library(HealthCensus)
# gives you a summary of the health of trees at different crown positions
summary_health(data21, "crown_position")
#>       statistic_names result_for_crown_position_3 result_for_crown_position_1
#> 1             A_count                        6261                        1591
#> 2            AU_count                        2109                        4154
#> 3            DC_count                           2                        1184
#> 4            DN_count                          NA                         200
#> 5            DS_count                         409                        4001
#> 6   mean_crown_living                          90                          45
#> 7 median_crown_living                         100                          45
#> 8   mean_crown_intact                          96                          65
#> 9 median_crown_intact                         100                          90
#>   result_for_crown_position_2 result_for_crown_position_4
#> 1                        2436                        2225
#> 2                        2215                         494
#> 3                           6                          NA
#> 4                           1                          NA
#> 5                         854                         332
#> 6                          74                          82
#> 7                          93                          96
#> 8                          88                          95
#> 9                         100                         100
#>   result_for_crown_position_5
#> 1                         265
#> 2                          29
#> 3                          NA
#> 4                          NA
#> 5                          33
#> 6                          84
#> 7                          95
#> 8                          97
#> 9                         100
```
